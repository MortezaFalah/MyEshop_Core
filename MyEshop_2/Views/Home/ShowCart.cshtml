@model Order
@{
    ViewData["Title"] = "ShowCart";
}


@if(Model != null)

{
    
<table class="table table-striped">
    <thead  class="thead-dark">
        <tr>
            <th>کالا</th>
            <th>تعداد</th>
            <th>قیمت</th>
            <th></th>
        </tr>
    </thead>

    <tbody>
        @foreach (var item in Model.OrderDetails)
        {
            <tr>
                <td>@item.product.Name</td>
                <td>@item.Count</td>
                <td>@item.Count * @item.Price</td>
                <td>
                    <a asp-action="RemoveProduct" asp-route-DetailId="@item.DetailId">حذف</a>
                </td>
            </tr>
        }

    </tbody>
     <a asp-action="PayMent" asp-controller="Home">خرید نهایی و  پرداخت</a>
</table>
<h5>جمع کل :@Model.OrderDetails.Sum(r=>r.Count * r.Price)</h5>


}
else{

    <h4> فاکتوری برای شما موجود نیست...</h4>
}